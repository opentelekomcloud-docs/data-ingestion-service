:original_name: dis_01_0232.html

.. _dis_01_0232:

The Data Store Size CDR Content
===============================

.. table:: **Table 1** DIS Data Store Size CDR Record Content

   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Field                | Location    | Type        | Description                                      | Remarks                                                                                                                                                                                                                                                                                       |
   +======================+=============+=============+==================================================+===============================================================================================================================================================================================================================================================================================+
   | RecordType           | 1           | String      | Type of a record in a file.                      | Number of normal offline CDR records: 20                                                                                                                                                                                                                                                      |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | Number of corrected error offline CDR records: 30                                                                                                                                                                                                                                             |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | TimeStamp            | 2           | String      | Time when an offline CDR record is generated.    | UTC Format: YYYYMMDDHH24MISS                                                                                                                                                                                                                                                                  |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | UserID               | 3           | String      | Unique ID of a subscriber.                       | The value is the same as the value of **ProjectID**.                                                                                                                                                                                                                                          |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | RegionCode           | 4           | String      | ID of a region.                                  | ID of a region.                                                                                                                                                                                                                                                                               |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | AZCode               | 5           | String      | Code of an available zone.                       | Code of an available zone.                                                                                                                                                                                                                                                                    |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | CloudServiceTypeCode | 6           | String      | Type of a cloud service.                         | Cloud service type corresponding to **ResourceID**. For example, cloudservicetype for VM in **EC2** is recorded as **otc.service.type.ec2**, and cloudservicetype for VM in **VDC** is recorded as **otc.service.type.vdc**.                                                                  |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | For DIS: the string is **otc.service.type.dis**                                                                                                                                                                                                                                               |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ResourceTypeCode     | 7           | String      | Type of a cloud resource.                        | Cloud resource type corresponding to **ResourceID**, such as VM.                                                                                                                                                                                                                              |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | **ResourceType** is a resource type specified by **CloudServiceType**, and **CloudServiceType** contains multiple sets of **ResourceType**. For example, EC2 is provided by VM, Volume, IP, and Image, and EC2 is a **CloudServiceType**, and VM, Volume, IP, and Image are **ResourceType**. |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | For DIS: the string is **otc.resource.type.dis**                                                                                                                                                                                                                                              |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ResourceSpecCode     | 8           | String      | Code of specified resource specifications.       | There are two type resourcespeccode for DIS:                                                                                                                                                                                                                                                  |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | dis.general.partition                                                                                                                                                                                                                                                                         |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | dis.advanced.partition                                                                                                                                                                                                                                                                        |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ResourceID           | 9           | String      | ID of a resource instance.                       | ID of the partition in the DIS stream instance.                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | The ID is different from partitions.                                                                                                                                                                                                                                                          |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | BSSParams            | 10          | String      | Extended operation parameter.                    | The contract ID of one tenant. The contract ID is the xdomain_id of user token.                                                                                                                                                                                                               |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | BeginTime            | 11          | String      | Start time of the statistics period of a record. | UTC Format: YYYYMMDDHH24MISS                                                                                                                                                                                                                                                                  |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | EndTime              | 12          | String      | End time of the statistics period of a record.   | UTC Format: YYYYMMDDHH24MISS                                                                                                                                                                                                                                                                  |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | DataStoreSize        | 13          | String      | Name of a specific accumulative factor.          | Accumulative factor: Data Store Size                                                                                                                                                                                                                                                          |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | DataStoreSizeValue   | 14          | Double      | Accumulative value of **AccumulateFactorName**.  | Accumulative value of DataStore.                                                                                                                                                                                                                                                              |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | This value is the size of the data store in DIS input by the partition in the period ranging from **BeginTime** to **EndTime.**.                                                                                                                                                              |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | The value is 0 or a positive number, the value unit is byte.                                                                                                                                                                                                                                  |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ExtendParams         | 15          | String      | Extended field.                                  | This field is not used in this CDR record, the value is empty.                                                                                                                                                                                                                                |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ProductID            | 16          | String      | Product ID of this service                       | Product ID:                                                                                                                                                                                                                                                                                   |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | OTC_DIS_GEN_STORE                                                                                                                                                                                                                                                                             |
   |                      |             |             |                                                  |                                                                                                                                                                                                                                                                                               |
   |                      |             |             |                                                  | OTC_DIS_ADV_STORE                                                                                                                                                                                                                                                                             |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | CET/CEST BeginTime   | 17          | String      | Start time of the statistics period of a record. | Server Local Time: YYYYMMDDHH24MISS                                                                                                                                                                                                                                                           |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | CET/CEST EndTime     | 18          | String      | End time of the statistics period of a record.   | Server Local Time: YYYYMMDDHH24MISS                                                                                                                                                                                                                                                           |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Tag                  | 19          | String      | Extended field.                                  | This field is not used in DIS service, the value is empty.                                                                                                                                                                                                                                    |
   +----------------------+-------------+-------------+--------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Sample scenario for the user:

Starting at 11:15(UTC time), a user created a stream containing 2 partitions, the data store time is 1 day. The user put 50 records per second, and each record is 35KB.

At 12:00 (UTC time) , The partition 1 receives 70,000 records and Partition2 receives 65,000 records.when billing system generates CDR file, CDR records of the stream looks like below:

The Partition Duration CDR content:
-----------------------------------

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 *\|* \| *otc.service.type.dis* \| *otc.resource.type. dispartition* \| dis.general.partition \| 1dbcee33-7837-4316-852d-5d9f27f11e28 \|\ *00000000001000003344* \| 20161013111500 \| 20161013115959 \| Duration \| 2700 \| \| OTC_DIS_GEN_TIME \| 20161013120000 \| 20161013125959\|

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 *\|* \| *otc.service.type.dis* \| *otc.resource.type. dispartition* \| dis.general.partition \| 2cegee33-2173-4982-881c-7w8f27d23h54 \|\ *00000000001000003344* \| 20161013111500 \| 20161013115959 \| Duration \| 2700 \| \| OTC_DIS_GEN_TIME \| 20161013120000 \| 20161013125959\|

The PUT payload unit CDR content:
---------------------------------

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 \| \| otc.service.type.dis \| otc.resource.type. *dispayloadunit* \| dis.general.partition \| 1dbcee33-7837-4316-852d-5d9f27f11e28 \|00000000001000003344 \| 20161013111500 \| 20161013115959 \| InputUnitNum \| 140000 \| 2508800000 \| OTC_DIS_GEN_UNIT \|20161013120000 \| 20161013125959\|

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 *\|* \| *otc.service.type.dis* \| *otc.resource.type. dispayloadunit* \| dis.general.partition \| 2cegee33-2173-4982-881c-7w8f27d23h54 \|\ *00000000001000003344* \| 20161013111500 \| 20161013115959 \| InputUnitNum \| 130000 \| 2329600000 \| OTC_DIS_GEN_UNIT \|20161013120000 \| 20161013125959\|

.. note::

   As our record is 35KB, each record contains two PUT Payload Units. The user put 50 records or 100 PUT Payload Units per second. At 12:00, there are 70000 records or 14000 PUT Payload Unit in partition 1, and 65000 records or 130000 PUT Payload Unit in partition 2.

   The ExtendParams in PUT Payload Unit CDR describe the amount of data the user is actually uploading in the billing period.

The Date Store Size CDR content:
--------------------------------

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 \| \| otc.service.type.dis \| otc.resource.type.disdatasize \| dis.general.partition \| 1dbcee33-7837-4316-852d-5d9f27f11e28 \|00000000001000003344 \| 20161013111500 \| 20161013115959 \| DataStoreSize \| 2508800000\| \| OTC_DIS_GEN_STORE \|20161013120000 \| 20161013125959 \|

20|20161013150423 \| a21be352dfa7682dfa768dfa7682dfdf \| eu-west-0 \| \| otc.service.type.dis \| otc.resource.type. disdatasize \| dis.general.partition \| 2cegee33-2173-4982-881c-7w8f27d23h54 \|00000000001000003344 \| 20161013111500 \| 20161013115959 \| DataStoreSize \| 2329600000\| \| OTC_DIS_GEN_STORE \|20161013120000 \| 20161013125959 \|

.. note::

   Each record is 35KB. The Partition 1 have 70000 records and The partition 2 have 65000 records. The data store time is 1 day so all the data is store in the DIS, so the data store size is 2508800000(70000*35*1024)byte in partition 1, the data store size is 2329600000(65000*35*1024) byte in partition 2.

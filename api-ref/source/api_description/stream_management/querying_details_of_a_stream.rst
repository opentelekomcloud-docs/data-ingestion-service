:original_name: dis_02_0025.html

.. _dis_02_0025:

Querying Details of a Stream
============================

Function
--------

This API is used to query details about a specified stream.

Calling Method
--------------

For details, see :ref:`Calling APIs <dis_02_0400>`.

URI
---

GET /v2/{project_id}/streams/{stream_name}

.. table:: **Table 1** Path Parameters

   +-----------------+-----------------+-----------------+----------------------------------+
   | Parameter       | Mandatory       | Type            | Description                      |
   +=================+=================+=================+==================================+
   | project_id      | Yes             | String          | Project ID                       |
   +-----------------+-----------------+-----------------+----------------------------------+
   | stream_name     | Yes             | String          | Name of the stream to be queried |
   |                 |                 |                 |                                  |
   |                 |                 |                 | Maximum: **60**                  |
   +-----------------+-----------------+-----------------+----------------------------------+

.. table:: **Table 2** Query Parameters

   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+
   | Parameter         | Mandatory       | Type            | Description                                                                                                          |
   +===================+=================+=================+======================================================================================================================+
   | start_partitionId | No              | String          | Name of the partition to start the partition list with. The returned partition list does not contain this partition. |
   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+
   | limit_partitions  | No              | Integer         | Max. number of partitions to list in a single API call.                                                              |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Minimum: **1**                                                                                                       |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Maximum: **1000**                                                                                                    |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Default: **100**                                                                                                     |
   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                       |
   +=================+=================+=================+===================================================================================================================================================+
   | X-Auth-Token    | Yes             | String          | User token.                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                   |
   |                 |                 |                 | It can be obtained by calling the IAM API used to obtain a user token. The value of **X-Subject-Token** in the response header is the user token. |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                      | Type                                                                                      | Description                                                                                                                                                                            |
   +================================+===========================================================================================+========================================================================================================================================================================================+
   | stream_name                    | String                                                                                    | Stream name                                                                                                                                                                            |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | create_time                    | Long                                                                                      | Time when the stream is created. The value is a 13-bit timestamp.                                                                                                                      |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | last_modified_time             | Long                                                                                      | Time when a stream is the most recently modified. The value is a 13-bit timestamp.                                                                                                     |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                         | String                                                                                    | Current status of the stream.                                                                                                                                                          |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **CREATING**                                                                                                                                                                        |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **RUNNING**                                                                                                                                                                         |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **TERMINATING**                                                                                                                                                                     |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **TERMINATED**                                                                                                                                                                      |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | Enumeration values:                                                                                                                                                                    |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **CREATING**                                                                                                                                                                        |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **RUNNING**                                                                                                                                                                         |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **TERMINATING**                                                                                                                                                                     |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **FROZEN**                                                                                                                                                                          |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | stream_type                    | String                                                                                    | Stream type                                                                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **COMMON**: a common stream with a bandwidth of 1 Mbit/s                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **ADVANCED**: an advanced stream with a bandwidth of 5 Mbit/s                                                                                                                       |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | Enumeration values:                                                                                                                                                                    |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **COMMON**                                                                                                                                                                          |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **ADVANCED**                                                                                                                                                                        |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | partitions                     | Array of :ref:`PartitionResult <dis_02_0025__response_partitionresult>` objects           | Partition list of the stream                                                                                                                                                           |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | has_more_partitions            | Boolean                                                                                   | Whether there are more matching partitions.                                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **true**: yes                                                                                                                                                                       |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **false**: no                                                                                                                                                                       |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | retention_period               | Integer                                                                                   | Period for storing data in units of hours                                                                                                                                              |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | stream_id                      | String                                                                                    | Unique identifier of the stream                                                                                                                                                        |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | data_type                      | String                                                                                    | Source data type.                                                                                                                                                                      |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **BLOB**: a collection of binary data stored as a single entity in a database management system                                                                                     |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **JSON**: an open-standard file format that uses human-readable text to transmit data objects consisting of attribute-value pairs and array data types                              |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **CSV**: a simple text format for storing tabular data in a plain text file. Commas are used as delimiters.                                                                         |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | Default value: **BLOB**                                                                                                                                                                |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | Enumeration values:                                                                                                                                                                    |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **BLOB**                                                                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **JSON**                                                                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **CSV**                                                                                                                                                                             |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | data_schema                    | String                                                                                    | Source data structure that defines JSON and CSV formats. It is described in the syntax of the Avro schema. For details about Avro, go to http://avro.apache.org/docs/current/#schemas. |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | compression_format             | String                                                                                    | Data compression type. Currently, the following compression types are supported:                                                                                                       |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  snappy                                                                                                                                                                              |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  gzip                                                                                                                                                                                |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  zip                                                                                                                                                                                 |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | By default, data is not compressed.                                                                                                                                                    |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | Enumeration values:                                                                                                                                                                    |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **snappy**                                                                                                                                                                          |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **gzip**                                                                                                                                                                            |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **zip**                                                                                                                                                                             |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | csv_properties                 | :ref:`CSVProperties <dis_02_0025__response_csvproperties>` object                         | Attributes of data in CSV format, such as delimiter                                                                                                                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | writable_partition_count       | Integer                                                                                   | Total number of writable partitions (including partitions in ACTIVE state only)                                                                                                        |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | readable_partition_count       | Integer                                                                                   | Total number of readable partitions (including partitions in ACTIVE and DELETED state).                                                                                                |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | update_partition_counts        | Array of :ref:`UpdatePartitionCount <dis_02_0025__response_updatepartitioncount>` objects | List of scaling operation records                                                                                                                                                      |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                           | Array of :ref:`Tag <dis_02_0025__response_tag>` objects                                   | List of stream tags                                                                                                                                                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sys_tags                       | Array of :ref:`SysTag <dis_02_0025__response_systag>` objects                             | Enterprise project of a stream                                                                                                                                                         |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | auto_scale_enabled             | Boolean                                                                                   | Whether to enable auto scaling.                                                                                                                                                        |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **true**: Auto scaling is enabled.                                                                                                                                                  |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | -  **false**: Auto scaling is disabled.                                                                                                                                                |
   |                                |                                                                                           |                                                                                                                                                                                        |
   |                                |                                                                                           | By default, auto scaling is disabled.                                                                                                                                                  |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | auto_scale_min_partition_count | Integer                                                                                   | Minimum number of partitions for automatic scale-down when auto scaling is enabled.                                                                                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | auto_scale_max_partition_count | Integer                                                                                   | Maximum number of partitions for automatic scale-up when auto scaling is enabled.                                                                                                      |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _dis_02_0025__response_partitionresult:

.. table:: **Table 5** PartitionResult

   +-----------------------+-----------------------+------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                |
   +=======================+=======================+============================================================+
   | status                | String                | Current status of the partition                            |
   |                       |                       |                                                            |
   |                       |                       | -  **CREATING**                                            |
   |                       |                       |                                                            |
   |                       |                       | -  **ACTIVE**                                              |
   |                       |                       |                                                            |
   |                       |                       | -  **DELETED**                                             |
   |                       |                       |                                                            |
   |                       |                       | -  **EXPIRED**                                             |
   |                       |                       |                                                            |
   |                       |                       | Enumeration values:                                        |
   |                       |                       |                                                            |
   |                       |                       | -  **CREATING**                                            |
   |                       |                       |                                                            |
   |                       |                       | -  **ACTIVE**                                              |
   |                       |                       |                                                            |
   |                       |                       | -  **DELETED**                                             |
   |                       |                       |                                                            |
   |                       |                       | -  **EXPIRED**                                             |
   +-----------------------+-----------------------+------------------------------------------------------------+
   | partition_id          | String                | Unique identifier of the partition                         |
   +-----------------------+-----------------------+------------------------------------------------------------+
   | hash_range            | String                | Possible value range of the hash key used by the partition |
   +-----------------------+-----------------------+------------------------------------------------------------+
   | sequence_number_range | String                | Sequence number range of the partition                     |
   +-----------------------+-----------------------+------------------------------------------------------------+
   | parent_partitions     | String                | Parent partition                                           |
   +-----------------------+-----------------------+------------------------------------------------------------+

.. _dis_02_0025__response_csvproperties:

.. table:: **Table 6** CSVProperties

   ========= ====== ==============
   Parameter Type   Description
   ========= ====== ==============
   delimiter String Data separator
   ========= ====== ==============

.. _dis_02_0025__response_updatepartitioncount:

.. table:: **Table 7** UpdatePartitionCount

   +------------------------+-----------------------+-------------------------------------------------------------+
   | Parameter              | Type                  | Description                                                 |
   +========================+=======================+=============================================================+
   | create_timestamp       | Long                  | Scaling execution timestamp, which is a 13-digit timestamp. |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | src_partition_count    | Integer               | Number of partitions before scaling                         |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | target_partition_count | Integer               | Number of partitions after scaling                          |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | result_code            | Integer               | Response code of the scaling operation                      |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | result_msg             | Integer               | Response to the scaling operation                           |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | auto_scale             | Boolean               | Whether the scaling operation is automatic                  |
   |                        |                       |                                                             |
   |                        |                       | -  **true**: auto scaling                                   |
   |                        |                       |                                                             |
   |                        |                       | -  **false**: manual scaling                                |
   +------------------------+-----------------------+-------------------------------------------------------------+

.. _dis_02_0025__response_tag:

.. table:: **Table 8** Tag

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                     |
   +=======================+=======================+=================================================================================================================================================+
   | key                   | String                | Tag key.                                                                                                                                        |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It cannot be left blank.                                                                                                                     |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It must be unique for each resource.                                                                                                         |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It can contain uppercase and lowercase letters, digits, hyphens (-), underscores (_), and Unicode characters (\\u4E00-\\u9FFF).              |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Minimum: **1**                                                                                                                                  |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Maximum: **36**                                                                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Value.                                                                                                                                          |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It can contain a maximum of 43 characters.                                                                                                   |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It can contain uppercase and lowercase letters, digits, periods (.), hyphens (-), underscores (_), and Unicode characters (\\u4E00-\\u9FFF). |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It can only contain digits, letters, hyphens (-), and underscores (_).                                                                       |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Minimum: **0**                                                                                                                                  |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Maximum: **43**                                                                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+

.. _dis_02_0025__response_systag:

.. table:: **Table 9** SysTag

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                           |
   +=======================+=======================+=======================================================================================================+
   | key                   | String                | Tag key.                                                                                              |
   |                       |                       |                                                                                                       |
   |                       |                       | -  It cannot be left blank.                                                                           |
   |                       |                       |                                                                                                       |
   |                       |                       | -  Its value must be **\_sys_enterprise_project_id**.                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------+
   | status                | String                | Enumeration values:                                                                                   |
   |                       |                       |                                                                                                       |
   |                       |                       | -  **\_sys_enterprise_project_id**                                                                    |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------+
   | value                 | String                | Value.                                                                                                |
   |                       |                       |                                                                                                       |
   |                       |                       | The value is the enterprise project ID, which needs to be obtained on the enterprise management page. |
   |                       |                       |                                                                                                       |
   |                       |                       | -  It is a 36-digit UUID.                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------+

Example Requests
----------------

Querying Details of a Stream

.. code-block:: text

   GET https://{Endpoint}/v2/{project_id}/streams/{stream_name}

Example Responses
-----------------

**Status code: 200**

Normal response

.. code-block::

   {
     "stream_id" : "8QM3Nt9YTLOwtUVYJhO",
     "stream_name" : "newstream",
     "create_time" : 1593569685875,
     "last_modified_time" : "1599050091026,",
     "retention_period" : 24,
     "status" : "RUNNING",
     "stream_type" : "COMMON",
     "data_type" : "BLOB",
     "writable_partition_count" : 1,
     "readable_partition_count" : 1,
     "tags" : [ ],
     "auto_scale_enabled" : false,
     "auto_scale_min_partition_count" : 0,
     "auto_scale_max_partition_count" : 0,
     "partitions" : [ {
       "status" : "ACTIVE",
       "partition_id" : "shardId-0000000000",
       "hash_range" : "[0 : 9223372036854775807]",
       "sequence_number_range" : "[289911 : 289927]"
     } ],
     "has_more_partitions" : false
   }

Status Codes
------------

=========== ===============
Status Code Description
=========== ===============
200         Normal response
=========== ===============

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.

:original_name: dis_02_0025.html

.. _dis_02_0025:

Querying Stream Details
=======================

Function
--------

This API is used to query details about a specified stream.

URI
---

GET /v2/{project_id}/streams/{stream_name}

.. table:: **Table 1** Path Parameters

   +-----------------+-----------------+-----------------+-----------------------+
   | Parameter       | Mandatory       | Type            | Description           |
   +=================+=================+=================+=======================+
   | project_id      | Yes             | String          | Project ID.           |
   +-----------------+-----------------+-----------------+-----------------------+
   | stream_name     | Yes             | String          | Stream to be queried. |
   |                 |                 |                 |                       |
   |                 |                 |                 | Maximum: **60**       |
   +-----------------+-----------------+-----------------+-----------------------+

.. table:: **Table 2** Query Parameters

   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+
   | Parameter         | Mandatory       | Type            | Description                                                                                                          |
   +===================+=================+=================+======================================================================================================================+
   | start_partitionId | No              | String          | Name of the partition to start the partition list with. The returned partition list does not contain this partition. |
   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+
   | limit_partitions  | No              | Integer         | Maximum number of partitions to list in a single API call                                                            |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Value range: 1 to 1000                                                                                               |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Default value: **100**                                                                                               |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Minimum: **1**                                                                                                       |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Maximum: **1000**                                                                                                    |
   |                   |                 |                 |                                                                                                                      |
   |                   |                 |                 | Default: **100**                                                                                                     |
   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+
   | stream_id         | No              | String          | Stream ID. This parameter is mandatory for querying details of an authorized stream.                                 |
   +-------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                              |
   +=================+=================+=================+==========================================================================================================================================================+
   | X-Auth-Token    | Yes             | String          | User token                                                                                                                                               |
   |                 |                 |                 |                                                                                                                                                          |
   |                 |                 |                 | The token can be obtained by calling the IAM API used to obtain a user token. The value of **X-Subject-Token** in the response header is the user token. |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | Parameter                      | Type                                                                                      | Description                                                                                        |
   +================================+===========================================================================================+====================================================================================================+
   | stream_name                    | String                                                                                    | Name of the stream.                                                                                |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | create_time                    | Long                                                                                      | Time when a stream is created. The value is a 13-bit timestamp.                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | last_modified_time             | Long                                                                                      | Time when a stream is the most recently modified. The value is a 13-bit timestamp.                 |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | status                         | String                                                                                    | Current status of the stream                                                                       |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **CREATING**: creating                                                                          |
   |                                |                                                                                           | -  **RUNNING**: running                                                                            |
   |                                |                                                                                           | -  **TERMINATING**: deleting                                                                       |
   |                                |                                                                                           | -  **TERMINATED**: deleted                                                                         |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Enumeration values:                                                                                |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **CREATING**                                                                                    |
   |                                |                                                                                           | -  **RUNNING**                                                                                     |
   |                                |                                                                                           | -  **TERMINATING**                                                                                 |
   |                                |                                                                                           | -  **FROZEN**                                                                                      |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | stream_type                    | String                                                                                    | Stream type                                                                                        |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **COMMON**: a common stream with a bandwidth of 1 MB/s                                          |
   |                                |                                                                                           | -  **ADVANCED**: an advanced stream with a bandwidth of 5 MB/s                                     |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Enumeration values:                                                                                |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **COMMON**                                                                                      |
   |                                |                                                                                           | -  **ADVANCED**                                                                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | partitions                     | Array of :ref:`PartitionResult <dis_02_0025__response_partitionresult>` objects           | A list of partitions that comprise the DIS stream.                                                 |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | has_more_partitions            | Boolean                                                                                   | Whether there are more matching partitions                                                         |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **true**: yes                                                                                   |
   |                                |                                                                                           | -  **false**: no                                                                                   |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | retention_period               | Integer                                                                                   | Period for storing data in units of hours.                                                         |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | stream_id                      | String                                                                                    | Unique identifier of the stream.                                                                   |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | data_type                      | String                                                                                    | Source data type                                                                                   |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **BLOB**: a collection of binary data stored as a single entity in a database management system |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Default value: **BLOB**                                                                            |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Enumeration values:                                                                                |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **BLOB**                                                                                        |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | compression_format             | String                                                                                    | Data compression type. The following types are available:                                          |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  snappy                                                                                          |
   |                                |                                                                                           | -  gzip                                                                                            |
   |                                |                                                                                           | -  zip                                                                                             |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Data is not compressed by default.                                                                 |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | Enumeration values:                                                                                |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **snappy**                                                                                      |
   |                                |                                                                                           | -  **gzip**                                                                                        |
   |                                |                                                                                           | -  **zip**                                                                                         |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | writable_partition_count       | Integer                                                                                   | Total number of writable partitions (including partitions in ACTIVE state only).                   |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | readable_partition_count       | Integer                                                                                   | Total number of readable partitions (including partitions in ACTIVE and DELETED state).            |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | update_partition_counts        | Array of :ref:`UpdatePartitionCount <dis_02_0025__response_updatepartitioncount>` objects | List of scaling operation records.                                                                 |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | tags                           | Array of :ref:`Tag <dis_02_0025__response_tag>` objects                                   | List of stream tags.                                                                               |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | sys_tags                       | Array of :ref:`SysTag <dis_02_0025__response_systag>` objects                             | Enterprise project of a stream.                                                                    |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | auto_scale_enabled             | Boolean                                                                                   | Whether to enable auto scaling                                                                     |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | -  **true**: Auto scaling is enabled.                                                              |
   |                                |                                                                                           | -  **false**: Auto scaling is disabled.                                                            |
   |                                |                                                                                           |                                                                                                    |
   |                                |                                                                                           | By default, this function is disabled.                                                             |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | auto_scale_min_partition_count | Integer                                                                                   | Minimum number of partitions for automatic scale-down when auto scaling is enabled.                |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+
   | auto_scale_max_partition_count | Integer                                                                                   | Maximum number of partitions for automatic scale-up when auto scaling is enabled.                  |
   +--------------------------------+-------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------+

.. _dis_02_0025__response_partitionresult:

.. table:: **Table 5** PartitionResult

   +-----------------------+-----------------------+-------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                 |
   +=======================+=======================+=============================================================+
   | status                | String                | Current status of the partition                             |
   |                       |                       |                                                             |
   |                       |                       | -  **CREATING**: creating                                   |
   |                       |                       | -  **ACTIVE**: available                                    |
   |                       |                       | -  **DELETED**: deleted                                     |
   |                       |                       | -  **EXPIRED**: expired                                     |
   |                       |                       |                                                             |
   |                       |                       | Enumeration values:                                         |
   |                       |                       |                                                             |
   |                       |                       | -  **CREATING**                                             |
   |                       |                       | -  **ACTIVE**                                               |
   |                       |                       | -  **DELETED**                                              |
   |                       |                       | -  **EXPIRED**                                              |
   +-----------------------+-----------------------+-------------------------------------------------------------+
   | partition_id          | String                | Unique identifier of the partition.                         |
   +-----------------------+-----------------------+-------------------------------------------------------------+
   | hash_range            | String                | Possible value range of the hash key used by the partition. |
   +-----------------------+-----------------------+-------------------------------------------------------------+
   | sequence_number_range | String                | Sequence number range of the partition.                     |
   +-----------------------+-----------------------+-------------------------------------------------------------+
   | parent_partitions     | String                | Parent partition.                                           |
   +-----------------------+-----------------------+-------------------------------------------------------------+

.. _dis_02_0025__response_updatepartitioncount:

.. table:: **Table 6** UpdatePartitionCount

   +------------------------+-----------------------+-------------------------------------------------------------+
   | Parameter              | Type                  | Description                                                 |
   +========================+=======================+=============================================================+
   | create_timestamp       | Long                  | Scaling execution timestamp, which is a 13-digit timestamp. |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | src_partition_count    | Integer               | Number of partitions before scaling.                        |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | target_partition_count | Integer               | Number of partitions after scaling.                         |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | result_code            | Integer               | Response code of the scaling operation.                     |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | result_msg             | Integer               | Response to the scaling operation.                          |
   +------------------------+-----------------------+-------------------------------------------------------------+
   | auto_scale             | Boolean               | Whether the scaling operation is automatic                  |
   |                        |                       |                                                             |
   |                        |                       | -  **true**: auto scaling                                   |
   |                        |                       | -  **false**: manual scaling                                |
   +------------------------+-----------------------+-------------------------------------------------------------+

.. _dis_02_0025__response_tag:

.. table:: **Table 7** Tag

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                     |
   +=======================+=======================+=================================================================================================================================================+
   | key                   | String                | Key                                                                                                                                             |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It cannot be left blank.                                                                                                                     |
   |                       |                       | -  It must be unique for each resource.                                                                                                         |
   |                       |                       | -  It can contain uppercase and lowercase letters, digits, hyphens (-), underscores (_), and Unicode characters (\\u4E00-\\u9FFF).              |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Minimum: **1**                                                                                                                                  |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Maximum: **36**                                                                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Value                                                                                                                                           |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  It can contain a maximum of 43 characters.                                                                                                   |
   |                       |                       | -  It can contain uppercase and lowercase letters, digits, periods (.), hyphens (-), underscores (_), and Unicode characters (\\u4E00-\\u9FFF). |
   |                       |                       | -  It can only contain digits, letters, hyphens (-), and underscores (_).                                                                       |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Minimum: **0**                                                                                                                                  |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | Maximum: **43**                                                                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+

.. _dis_02_0025__response_systag:

.. table:: **Table 8** SysTag

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                  |
   +=======================+=======================+==============================================================================================================+
   | key                   | String                | Key                                                                                                          |
   |                       |                       |                                                                                                              |
   |                       |                       | -  It cannot be left blank.                                                                                  |
   |                       |                       | -  Its value must be **\_sys_enterprise_project_id**.                                                        |
   |                       |                       |                                                                                                              |
   |                       |                       | Enumeration values:                                                                                          |
   |                       |                       |                                                                                                              |
   |                       |                       | -  **\_sys_enterprise_project_id**                                                                           |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Value. The value is the enterprise project ID, which needs to be obtained on the enterprise management page. |
   |                       |                       |                                                                                                              |
   |                       |                       | -  It is a 36-digit UUID.                                                                                    |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

Querying Stream Details

.. code-block:: text

   GET https://{Endpoint}/v2/{project_id}/streams/{stream_name}

Example Responses
-----------------

**Status code: 200**

Normal response.

.. code-block::

   {
     "stream_id" : "8QM3Nt9YTLOwtUVYJhO",
     "stream_name" : "newstream",
     "create_time" : 1593569685875,
     "last_modified_time" : "1599050091026,",
     "retention_period" : 24,
     "status" : "RUNNING",
     "stream_type" : "COMMON",
     "data_type" : "BLOB",
     "writable_partition_count" : 1,
     "readable_partition_count" : 1,
     "tags" : [ ],
     "auto_scale_enabled" : false,
     "auto_scale_min_partition_count" : 0,
     "auto_scale_max_partition_count" : 0,
     "partitions" : [ {
       "status" : "ACTIVE",
       "partition_id" : "shardId-0000000000",
       "hash_range" : "[0 : 9223372036854775807]",
       "sequence_number_range" : "[289911 : 289927]"
     } ],
     "has_more_partitions" : false
   }

Status Codes
------------

=========== ================
Status Code Description
=========== ================
200         Normal response.
=========== ================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
